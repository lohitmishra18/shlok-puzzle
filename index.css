:root{ --bg:#0b1220; --card:#121a2b; --muted:#7c8aa5; --accent:#5eead4; --accent-2:#a78bfa; --radius:18px; }
*{box-sizing:border-box}
html,body{height:100%}
body{ 
  margin:0; 
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial; 
  background: radial-gradient(1200px 600px at 10% -10%, #1c2440, transparent) , radial-gradient(1000px 600px at 110% 10%, #1a1e36, transparent), var(--bg); 
  color:#e5ecff; 
  display:flex; 
  align-items:center; 
  justify-content:center; 
  padding:24px; 
  min-height:100vh;
}
.app{ width:min(1100px,100%); margin:auto; }
header{ display:flex; gap:16px; align-items:flex-end; justify-content:space-between; flex-wrap:wrap; margin-bottom:16px }
.title{ display:flex; align-items:center; gap:12px }
.title h1{ margin:0; font-size:clamp(22px,2.6vw,34px); letter-spacing:.5px }
.badge{ font-size:12px; padding:6px 10px; border-radius:999px; background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#05221c; font-weight:700 }
.card{ background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03)); border:1px solid rgba(255,255,255,.08); backdrop-filter: blur(8px); border-radius:var(--radius); padding:18px }
.grid{ display:grid; grid-template-columns: 1fr 360px; gap:16px }
@media (max-width:980px){ .grid{ grid-template-columns:1fr } }
.board{ aspect-ratio:4/3; width:100%; min-height:300px; background:#0a0f1b; border-radius:16px; overflow:hidden; border:1px solid rgba(255,255,255,.08); display:grid; gap:2px }
.tile{ user-select:none; background:#101827; cursor:pointer; transition:transform .08s ease; outline:1px solid rgba(255,255,255,.04); background-repeat:no-repeat; background-origin:border-box; border-radius:6px; touch-action: manipulation; }
.tile.active{ transform:scale(.96) }
.tile.correct{ outline-color: rgba(94,234,212,.6); box-shadow: inset 0 0 0 2px rgba(94,234,212,.35) }
.controls{ display:flex; flex-wrap:wrap; gap:10px; align-items:center }
.btn{ appearance:none; border:0; padding:14px 18px; border-radius:12px; font-weight:700; letter-spacing:.3px; background:#101826; color:#e6f6ff; border:1px solid rgba(255,255,255,.09); cursor:pointer; font-size:1rem; }
.btn:hover{ filter:brightness(1.1) }
.btn.primary{ background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#081118 }
.btn.ghost{ background:transparent }
select{ background:#0f1626; color:#e5ecff; border:1px solid rgba(255,255,255,.12); padding:10px 12px; border-radius:12px }
.stat{ font-variant-numeric:tabular-nums; color:#7c8aa5 }
.panel{ display:grid; gap:14px }
.preview{ max-width:100%; max-height:340px; border-radius:14px; overflow:hidden; background:#0d1524; display:flex; align-items:center; justify-content:center; }
.preview img{ width:auto; height:auto; max-width:100%; max-height:100%; object-fit:contain; display:block; margin:auto; }
.overlay{ position:fixed; inset:0; display:none; place-items:center; background:rgba(6,10,18,.55); backdrop-filter: blur(4px); z-index:30 }
.overlay.show{ display:grid }
.modal{ background:#0e1629; border:1px solid rgba(255,255,255,.12); border-radius:20px; padding:28px; text-align:center; width:min(520px, 92vw) }
#confetti{ position:fixed; inset:0; pointer-events:none; z-index:40 }
.balloon{ position:fixed; bottom:-80px; width:26px; height:34px; border-radius:50% 50% 50% 50% / 60% 60% 40% 40%; z-index:45; opacity:.95; box-shadow: inset -6px -10px 18px rgba(0,0,0,.15) }
.balloon::after{ content:''; position:absolute; bottom:-10px; left:50%; width:8px; height:10px; background:currentColor; border-radius:2px; transform:translateX(-50%) rotate(10deg); filter:brightness(.9) }
@keyframes floatUp{ 0%{ transform:translateY(0) scale(1); opacity:.95 } 80%{ transform:translateY(-110vh) scale(1.05) } 100%{ transform:translateY(-120vh) scale(1.3); opacity:0 } }
details#testPanel{ margin-top:14px; opacity:.85 } details#testPanel summary{ cursor:pointer } .pass{ color:#86efac } .fail{ color:#fca5a5 }
@media (max-width:640px){
  body { padding: 8px; }
  .app { width: 100vw; min-width: 0; }
  .grid { grid-template-columns: 1fr; gap: 10px; }
  .card { padding: 10px; }
  .board { min-height: 180px; }
  .preview { max-height: 180px; }
  .modal { padding: 12px; width: 98vw; }
  .btn { padding: 12px 10px; font-size: 1.05em; }
  .controls { gap: 6px; }
  .panel { gap: 8px; }
  .stat { font-size: 0.98em; }
}
@media (max-width:400px){
  .modal { width: 99vw; padding: 6px; }
  .preview { max-height: 120px; }
  .board { min-height: 100px; }
  .btn { font-size: 0.98em; }
}